## ğŸš€ Sprint 2 â€” Matching IA + Gestion Multilingue ğŸŒğŸ¤–

Hello ğŸ‘‹

Nous lanÃ§ons le **Sprint 2** du projet `301 Redirect Generator`.  
Ce sprint vise Ã  intÃ©grer une **couche dâ€™IA sÃ©mantique pour matcher automatiquement les anciennes URLs avec les nouvelles**, et Ã  **gÃ©rer proprement les langues** dans les refontes multilingues.

---

### ğŸ¯ Objectifs de ce sprint

- RÃ©duire au maximum le retravail manuel sur les redirections 301
- Permettre des correspondances intelligentes mÃªme en cas de structure ou langue diffÃ©rente
- Cloisonner les langues (FR, EN, DE, etc.) pour Ã©viter les erreurs de matching
- Offrir une redirection 302 vers la home FR pour les langues non migrÃ©es
- **Permettre au chef de projet de transmettre un prompt contextuel mÃ©tier Ã  lâ€™IA** (structure Ã©ditoriale, langues disponibles, renommage de sections, etc.)

---

### âœ… Fichiers Markdown Ã  crÃ©er dans `/docs/` ou `/user_stories/`

#### ğŸ“ `SPRINT_2_README.md`
RÃ©sumÃ© du sprint, avec pÃ©rimÃ¨tre, objectifs, dÃ©pendances et liens vers les US.

#### ğŸ“ `AI_MATCHING_STRATEGY.md`
Contient :
- Rappel de lâ€™objectif du matching sÃ©mantique
- Structure du prompt GPT utilisÃ©
- Format dâ€™entrÃ©e attendu (`ancienne_urls[]`, `nouvelles_urls[]`)
- Format de sortie (`JSON`, `CSV`, `htaccess`)
- MÃ©thode de chunking recommandÃ©e
- API utilisÃ©e : `gpt-3.5-turbo`
- **Ajout : prise en charge dâ€™un prompt contextuel mÃ©tier transmis par le chef de projet**

#### ğŸ“ `LANGUAGE_HANDLING.md`
Contient :
- MÃ©thode de dÃ©tection de langue (`/fr/`, `/en/`, `/de/`, etc.)
- Cloisonnement logique des correspondances
- StratÃ©gie en cas de dÃ©sÃ©quilibre langue (ex: EN sur site A, pas sur site B)
- RÃ¨gle de fallback 302 â†’ vers home `/fr/`
- Exemple de redirection :  
  `/en/camping-pool/` â†’ `302 /fr/`

---

### ğŸ§© User Stories Ã  crÃ©er

#### `US009.md` â€” Matching IA sÃ©mantique
> En tant que chef de projet digital, je veux que lâ€™outil associe chaque ancienne URL Ã  la nouvelle URL la plus proche sÃ©mantiquement en utilisant une IA, afin de gagner du temps en cas de structure ou wording diffÃ©rent.

#### `US010.md` â€” Interface de validation humaine
> Je veux pouvoir relire et valider les correspondances IA proposÃ©es avant export pour Ã©viter des erreurs et garder le contrÃ´le.

#### `US011.md` â€” DÃ©tection automatique des langues
> Lâ€™outil doit dÃ©tecter la langue des URLs pour que le matching se fasse uniquement entre langues identiques (FR/FR, EN/EN...).

#### `US012.md` â€” Matching cloisonnÃ© par langue
> Le matching IA et manuel doit se faire uniquement Ã  lâ€™intÃ©rieur dâ€™un mÃªme groupe de langue dÃ©tectÃ©.

#### `US013.md` â€” Fallback 302 vers la home FR
> Si une langue est absente du nouveau site, toutes les URLs de cette langue doivent Ãªtre redirigÃ©es en 302 vers la page dâ€™accueil en FR.

#### `US014.md` â€” Prompt contextuel du chef de projet
> En tant que chef de projet, je veux pouvoir transmettre un prompt personnalisÃ© Ã  lâ€™IA pour lui expliquer le contexte Ã©ditorial du site, les langues actives, les changements de structure ou de terminologie, afin dâ€™obtenir un matching plus pertinent et mÃ©tier-aware.

---

### ğŸ› ï¸ ComplÃ©ments Ã  prÃ©voir

- Module `ai_mapper.py` Ã  crÃ©er
- Variable `OPENAI_API_KEY` Ã  ajouter dans `.env`
- UI :
  - [x] Checkbox "Activer IA"
  - [x] Bouton "Valider suggestions IA"
  - ğŸ†• Zone de texte : "Instructions du chef de projet (optionnel)" â†’ injectÃ© en dÃ©but de prompt GPT

---

### ğŸ’¡ Exemples d'instruction typique du chef de projet :

```txt
Le site est en FR / EN / DE. Le contenu ES existe mais nâ€™a pas encore Ã©tÃ© migrÃ©.
Les pages /es/* doivent Ãªtre redirigÃ©es temporairement vers la home FR.
Les sections du site ont changÃ© :
- "mobil-home" devient "nos locatifs"
- "blog" devient "actualitÃ©s"
- "restaurant" devient "restauration"
Merci dâ€™en tenir compte lors du matching.
Merci de bien vouloir :

CrÃ©er tous les fichiers Markdown ci-dessus ğŸ“„

Les lier dans README.md ou SPRINT_2_README.md

Mettre Ã  jour le kanban.md ou GitHub Projects avec les nouvelles cartes âœ…

Une fois tout cela posÃ©, nous pourrons itÃ©rer sur lâ€™implÃ©mentation en toute sÃ©curitÃ© ğŸ’ª

Merci ğŸ™Œ