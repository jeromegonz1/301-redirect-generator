# US006 - Scraper automatiquement les URLs des deux sites

**Titre** : US006 - Scraper automatiquement les URLs des deux sites

**En tant que** utilisateur,  
**je veux** entrer deux URL racines (ancien site et nouveau site),  
**afin que** l'outil explore automatiquement leurs pages internes  
**et génère les redirections sans copier-coller manuel**.

## 🎯 Critères d'acceptation :

- ✅ Entrée : 2 URLs racines
- ✅ Sortie : deux listes d'URLs internes (jusqu'à 200 max)
- ✅ Matching ligne par ligne
- ✅ Ancienne URL complète / nouvelle relative
- ✅ Respect des domaines (pas de liens externes)
- ✅ Si erreur ou blocage → fallback automatique vers input manuel
- ✅ UX simple, rapide, efficace

## 🔧 Fonctions techniques à développer :

- `crawl_site(url_root)` → retourne liste des URLs internes
- `detect_internal_links(html, base_url)`
- `normalize_url(url)`

## 🚫 Contraintes :

- Limite de 200 pages par site maximum
- User-Agent dédié : `301-Redirect-Bot`
- Gestion des erreurs et fallback intelligent
- Respect des domaines (pas de crawl externe)